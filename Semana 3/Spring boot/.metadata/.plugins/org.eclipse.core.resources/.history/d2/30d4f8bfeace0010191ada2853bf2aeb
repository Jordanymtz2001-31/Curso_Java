package com.mx.Empleado.Controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.mx.Empleado.Dominio.Empleado;
import com.mx.Empleado.Service.EmpleadoService;

// Controlador para gestionar las operaciones relacionadas con los empleados
@RestController //Anotación que indica que esta clase es un controlador REST en Spring Boot
@RequestMapping(path="/empleados") //Mapea las solicitudes HTTP a /empleados a este controlador
@CrossOrigin //Permite solicitudes CORS desde cualquier origen, facilitando el acceso a la API desde diferentes dominios
public class EmpleadoController {
	
	@Autowired //Inyecta automáticamente la dependencia del servicio de Empleado
	private EmpleadoService service;
	
	//Usaremos los metodos del servicio para manejar las solicitudes HTTP relacionadas con los empleados
	
	//listar empleados
	@GetMapping(path = "/listar")
	public List<Empleado> listar() {
		return service.readEmpleados();
	}
	
	//Guardar empleado
	@PostMapping(path = "/guardar")
	public void guardar(@RequestBody Empleado empleado) { //El @RequesBody es para decirle que recibira un cuerpo en formato JSON
		service.createEmpleado(empleado);
	}
	
	//Editar empleado
	@PutMapping(path = "/editar")
	public void editar(@RequestBody Empleado empleado) {
		service.updateEmpleado(empleado);
	}

}
